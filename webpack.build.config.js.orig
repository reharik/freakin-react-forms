const path = require('path');

const webpack = require('webpack');
const validate = require('webpack-validator');

const webpackConfig = {
  context: path.resolve(__dirname, 'src'),

  entry: {
    app: [
      './index.js'
    ]
  },
  output: {
    path: path.resolve(__dirname, 'lib'),
    publicPath: '/',
    filename: 'freakin-react-forms.js',
    library: 'freakin-react-forms',
    libraryTarget: 'umd'
  },

  externals: {
<<<<<<< HEAD
    "react":"react",
    "react-dom":"react-dom",
    "react-hot-loader":"react-hot-loader",
=======
    react: 'react',
    'react-dom': 'react-dom',
    'react-hot-loader': 'react-hot-loader'
>>>>>>> d44a9a6cb6aed77fc47177453c6a3a5370976072
  },

  module: {
    loaders: [
<<<<<<< HEAD
      { test: /\.jsx?$/, include: [ path.resolve(__dirname, 'src')], loader: 'babel'},
=======
      { test: /\.jsx?$/, include: [ path.resolve(__dirname, 'src')], loader: 'babel'}
>>>>>>> d44a9a6cb6aed77fc47177453c6a3a5370976072
    ]
  },

  plugins: [
    //see possible syntax errors at the browser console instead of hmre overlay
<<<<<<< HEAD
    new webpack.NoErrorsPlugin(),
=======
    new webpack.NoErrorsPlugin()
>>>>>>> d44a9a6cb6aed77fc47177453c6a3a5370976072
  ],

  resolve: {
    extensions: ['', '.js', '.jsx']
  }
};

module.exports = validate(webpackConfig, {
  rules: {
    'no-root-files-node-modules-nameclash': true, //default
    'loader-enforce-include-or-exclude': false,
    'loader-prefer-include': true
  }
});
